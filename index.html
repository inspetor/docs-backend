
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Inspetor Docs</title>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;sh&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-white.png" class="logo" alt="Logo white" />
        <div class="lang-selector">
              <a href="#" data-language-name="sh">sh</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#using-the-inspetor-collection-service" class="toc-h1 toc-link" data-title="Using the Inspetor collection service">Using the Inspetor collection service</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authorization" class="toc-h2 toc-link" data-title="Authorization">Authorization</a>
                  </li>
                  <li>
                    <a href="#sandbox-api-keys" class="toc-h2 toc-link" data-title="Sandbox API Keys">Sandbox API Keys</a>
                  </li>
                  <li>
                    <a href="#when-to-send-events-to-inspetor" class="toc-h2 toc-link" data-title="When to send events to Inspetor">When to send events to Inspetor</a>
                  </li>
                  <li>
                    <a href="#inspetor-entities" class="toc-h2 toc-link" data-title="Inspetor Entities">Inspetor Entities</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#account" class="toc-h3 toc-link" data-title="Account">Account</a>
                          </li>
                          <li>
                            <a href="#event" class="toc-h3 toc-link" data-title="Event">Event</a>
                          </li>
                          <li>
                            <a href="#transfer" class="toc-h3 toc-link" data-title="Transfer">Transfer</a>
                          </li>
                          <li>
                            <a href="#sale" class="toc-h3 toc-link" data-title="Sale">Sale</a>
                          </li>
                          <li>
                            <a href="#login-logout" class="toc-h3 toc-link" data-title="Login/Logout">Login/Logout</a>
                          </li>
                          <li>
                            <a href="#password-activities" class="toc-h3 toc-link" data-title="Password Activities">Password Activities</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#where-to-insert-inspetor-collection-functions" class="toc-h2 toc-link" data-title="Where to insert Inspetor collection functions">Where to insert Inspetor collection functions</a>
                  </li>
                  <li>
                    <a href="#testing-your-integration-with-inspetor" class="toc-h2 toc-link" data-title="Testing your integration with Inspetor">Testing your integration with Inspetor</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#collection-api" class="toc-h1 toc-link" data-title="Collection API">Collection API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#account-activity" class="toc-h2 toc-link" data-title="Account Activity">Account Activity</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#account-creation" class="toc-h3 toc-link" data-title="Account Creation">Account Creation</a>
                          </li>
                          <li>
                            <a href="#account-updates" class="toc-h3 toc-link" data-title="Account Updates">Account Updates</a>
                          </li>
                          <li>
                            <a href="#account-deletion" class="toc-h3 toc-link" data-title="Account Deletion">Account Deletion</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#authentication-activity" class="toc-h2 toc-link" data-title="Authentication Activity">Authentication Activity</a>
                  </li>
                  <li>
                    <a href="#password-activity" class="toc-h2 toc-link" data-title="Password Activity">Password Activity</a>
                  </li>
                  <li>
                    <a href="#event-activity" class="toc-h2 toc-link" data-title="Event Activity">Event Activity</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#event-creation" class="toc-h3 toc-link" data-title="Event Creation">Event Creation</a>
                          </li>
                          <li>
                            <a href="#event-updates" class="toc-h3 toc-link" data-title="Event Updates">Event Updates</a>
                          </li>
                          <li>
                            <a href="#event-deletion" class="toc-h3 toc-link" data-title="Event Deletion">Event Deletion</a>
                          </li>
                          <li>
                            <a href="#event-datetimes" class="toc-h3 toc-link" data-title="Event Datetimes">Event Datetimes</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#sale-activity" class="toc-h2 toc-link" data-title="Sale Activity">Sale Activity</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#sale-creation" class="toc-h3 toc-link" data-title="Sale Creation">Sale Creation</a>
                          </li>
                          <li>
                            <a href="#sale-updates" class="toc-h3 toc-link" data-title="Sale Updates">Sale Updates</a>
                          </li>
                          <li>
                            <a href="#mark-sale-fraudulent" class="toc-h3 toc-link" data-title="Mark Sale Fraudulent">Mark Sale Fraudulent</a>
                          </li>
                          <li>
                            <a href="#sale-items" class="toc-h3 toc-link" data-title="Sale Items">Sale Items</a>
                          </li>
                          <li>
                            <a href="#sale-payment" class="toc-h3 toc-link" data-title="Sale Payment">Sale Payment</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#item-transfers" class="toc-h2 toc-link" data-title="Item Transfers">Item Transfers</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#transfer-creation" class="toc-h3 toc-link" data-title="Transfer Creation">Transfer Creation</a>
                          </li>
                          <li>
                            <a href="#transfer-updates" class="toc-h3 toc-link" data-title="Transfer Updates">Transfer Updates</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#addresses" class="toc-h2 toc-link" data-title="Addresses">Addresses</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#evaluation-api" class="toc-h1 toc-link" data-title="Evaluation API">Evaluation API</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Inspetor protects your company from losses due to fraud and chargebacks, all while maximizing revenue from valid purchases and maintaining the simple payment flow that your customers love. We accomplish this by making predictions based on past and present user behavior to evaluate the likelihood that a transaction is fraudulent.</p>

<p>But we can&#39;t collect this information on our own--we need <em>you</em>, the user, to integrate our library into your code base so we can capture sufficient information to train our models. The more information we receive, the better the decision we can make, and the better we can protect your platform from fraud. Events like logins, profile updates, or even unrelated purchases on the same account all contribute to our assessment of a given transaction.</p>

<p>What follows is a general guide of how to integrate Inspetor&#39;s Client Library into your product. It should be sufficient for you to start with your Inspetor product integration. Should you find yourself in need of further assistance, do not hesitate to reach out to the Inspetor team--we will be happy to help!</p>
<h1 id='using-the-inspetor-collection-service'>Using the Inspetor collection service</h1><h2 id='authorization'>Authorization</h2>
<p>To use our API, you will need to provide authorization. We grant authorization based on an API key that should be provided in a request header with every request in the following format (OAuth 2.0):</p>

<p><code>Authorization: Bearer &lt;your JWT-format API key here&gt;</code></p>

<p>The API key is customer-specific and will be provided to you by Inspetor.</p>
<h2 id='sandbox-api-keys'>Sandbox API Keys</h2>
<p>In the initial stages of your integration, you will probably want to test out a few endpoints to make sure everything is working. It is important that this data is differentiated from your production data; otherwise, our antifraud models will use this test data for training. You can test your integration with our collection service and indicate that you are sending test data by providing a &quot;sandbox&quot; API key. (We will provide you with at the same time we issue your production API key.)</p>
<h2 id='when-to-send-events-to-inspetor'>When to send events to Inspetor</h2>
<p>In order to protect your company from fraudsters, our decision models need to be informed with customer behavior.</p>

<p>But we can&#39;t do it alone--we need <em>you</em>, our client, to send this information to us via the Client Library so that we can make better-informed decisions.</p>

<p>At a high level, our decision model understands the e-commerce world in the following primary terms:</p>

<ul>
<li><a href="#account-activity"><strong>Accounts</strong></a></li>
<li><a href="#event-activity"><strong>Events</strong></a></li>
<li><a href="#sale-activity"><strong>Sales</strong></a></li>
<li><a href="#sale-items"><strong>Sale Items</strong> (e.g. tickets)</a></li>
</ul>

<p>You can think of the relationship between those entities something like this:</p>

<p>If a user purchases tickets for a show on your site, Inspetor interprets the action as:</p>

<ul>
<li>the creation of a new <a href="#sale-activity"><em>Sale</em></a></li>
<li>the association of that Sale with an existing <a href="#account-activity"><em>Account</em></a></li>
<li>the association of that Sale with one or more <a href="#sale-items"><em>Items</em></a></li>
<li>the association of that Item with an existing <a href="#event-activity"><em>Event</em></a></li>
</ul>

<p>There are some additional behaviors that are also relevant to assessing potentially fraudulent behavior:</p>

<ul>
<li><a href="#authentication-activity">Attempted and successful logins or logouts of a user account</a></li>
<li><a href="#password-activity">Password recovery or reset</a></li>
<li><a href="#item-transfers">Ticket transfers</a></li>
</ul>

<p>And lastly, there are some &quot;primitive&quot; types that we use:</p>

<ul>
<li><a href="#addresses">Addresses</a></li>
<li><a href="#sale-payment">Sale Payment</a></li>
</ul>

<p>While these are the terms with which our model interprets actions on your platform, Inspetor is unaware of these actions occurring unless you use the Inspetor Collection API to relay this information to us.</p>

<aside class="notice">
Inspetor will never request write access to your code base--that means that it is on <i>you</i>, the developer, to integrate our library into your product's code base. We think that's the right way to do things: you know your product's code base, we know fraud.
</aside>
<h2 id='inspetor-entities'>Inspetor Entities</h2>
<p>The primary Inspetor entities are <strong>stateful</strong> objects. They have properties that can be updated, and the values of these properties are crucial to our evaluation of transaction validity. Thus, you should send events to Inspetor via the client library whenever properties of these objects are changed.</p>

<p>However, if we base our evaluation upon outdated or incorrect information, the accuracy of our evaluation will suffer. As such, it is critical that you notify Inspetor of any changes to these properties whenever they occur via the Inspetor Client Library.</p>

<aside class="warning">
It is <b>extremely important</b> that you provide us with updated information at any stage that these primary entities are modified. If we are working with outdated or incorrect information, we can't make reliable predictions for you.
</aside>

<p>The Inspetor Client Library provides methods for you to relay state changes to primary entities in any of the following instances:</p>
<h3 id='account'>Account</h3>
<ul>
<li>When an account is <a href="#account-creation">created</a></li>
<li>When an account is <a href="#account-updates">updated</a></li>
<li>When an account is <a href="#account-deletion">deleted</a></li>
</ul>
<h3 id='event'>Event</h3>
<ul>
<li>When an event is <a href="#event-creation">created</a></li>
<li>When an event is <a href="#event-updates">updated</a></li>
<li>When an event is <a href="#event-deletion">deleted</a></li>
</ul>
<h3 id='transfer'>Transfer</h3>
<ul>
<li>When a request to transfer a sale item (e.g. a ticket) is <a href="#transfer-creation">created</a></li>
<li>When a request to transfer a sale item (e.g. a ticket) is <a href="#transfer-updates">updated</a></li>
</ul>
<h3 id='sale'>Sale</h3>
<ul>
<li>When a sale is <a href="#sale-creation">created</a></li>
<li>When a sale is <a href="#sale-updates">updated</a></li>
</ul>

<p>Inspetor provides additional methods to allow you to inform us about meaningful user activity, such as:</p>
<h3 id='login-logout'>Login/Logout</h3>
<ul>
<li>When a user attempts to <a href="#account-login">log in to an account</a></li>
<li>When a user attempts to <a href="#account-logout">log out of an account</a></li>
</ul>
<h3 id='password-activities'>Password Activities</h3>
<ul>
<li>When a user requests to <a href="#password-activity">recover</a> their password</li>
<li>When a user <a href="#password-activity">resets</a> their password</li>
</ul>
<h2 id='where-to-insert-inspetor-collection-functions'>Where to insert Inspetor collection functions</h2>
<p>Where in your code base does the Inspetor client library belong? Frontend? Backend? Loaded on the site?</p>

<p>The answer is in as many places as possible. From your frontend interfaces (iOS/Android apps, JS websites), we&#39;re able to derive valuable information such as device characteristics, user behavior, and IP information, while from the backend you can provide us with a more holistic representation of your data in terms of business logic. Both of these types of data are extremely valuable for detecting fraud. As such, we suggest the following:</p>

<ul>
<li>Full event coverage within the server/API level of your application (backend): This allows us to know everything about what is happening within your product.</li>
<li>1:1 corresponding coverage within your frontend interfaces (Web, iOS, and Android): This allows us to enrich the knowledge we&#39;re gathering from your server-level transactions with additional information that improves our protection capabilities.</li>
</ul>

<p>Note that the information that you provide in either environment will vary. In the frontend integrations, you can rely on our SDKs to automatically relay the majority of the information we use to make a decision. You can read more about integrating with our frontend SDKs <a href="https://inspetor.github.io/docs-frontend">here</a>.</p>
<h2 id='testing-your-integration-with-inspetor'>Testing your integration with Inspetor</h2>
<p>Integrating with Inspetor is meant to be easy--simply instantiate our library or hit our REST API with valid authentication, and ensure that you receive a <code>200 OK</code> response.</p>

<aside class="notice">
Please ensure you are using your <b>sandbox API keys</b> when you are testing your integration; otherwise, Inspetor's models will interpret anything you send during dev testing as production data and train our fraud detection models accordingly.
</aside>

<p>However, ensuring that some data is making its way into our database is not sufficient for validating an Inspetor integration. We need to ensure that our understanding of state updates to primary entities (such as sales or accounts) remains accurate over time. This means that after the initial integration of our client library into your production code, we will need to periodically validate that our representation of sales, accounts, etc. corresponds to the true state of those entities (as represented in the customer database). This phase of validation is highly customer-specific and it will involve coordinated effort from both the customer and the Inspetor integration team.</p>
<h1 id='collection-api'>Collection API</h1>
<h2 id='account-activity'>Account Activity</h2>

<p>You can send account-related information to Inspetor via the REST API. The <code>/account</code> endpoint supports <code>POST</code> (create), <code>PUT</code> (update), and <code>DELETE</code> (delete) operations with the following arguments:</p>

<table><thead>
<tr>
<th>Property</th>
<th>When is it required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>POST</code>, <code>PUT</code>, <code>DELETE</code></td>
<td>String</td>
<td>Your unique identifier for this account in your platform</td>
</tr>
<tr>
<td>email</td>
<td><code>POST</code></td>
<td>String</td>
<td>The email associated with the account</td>
</tr>
<tr>
<td>document</td>
<td></td>
<td>String</td>
<td>The Document number associated with the account.</td>
</tr>
<tr>
<td>document_type</td>
<td></td>
<td>String</td>
<td>The Document type associated with the account&#39;s document number. Accpeted values are <code>cpf</code>, <code>passport</code>, and <code>rne</code>.</td>
</tr>
<tr>
<td>phone_number</td>
<td></td>
<td>Integer</td>
<td>The phone number associated with the account (numbers only; country code not included). Note: if phone_number is provided, phone_country_code is also required.</td>
</tr>
<tr>
<td>phone_country_code</td>
<td></td>
<td>Integer</td>
<td>The international country code associated with the phone number (numbers only). Note: if phone_country_code is provided, phone_number is also required.</td>
</tr>
<tr>
<td>password_hash</td>
<td></td>
<td>String</td>
<td>The <strong>secure</strong> (salted and hashed) password associated with the account</td>
</tr>
<tr>
<td>first_name</td>
<td></td>
<td>String</td>
<td>The first name of the user</td>
</tr>
<tr>
<td>last_name</td>
<td></td>
<td>String</td>
<td>The last name of the user</td>
</tr>
<tr>
<td>address</td>
<td></td>
<td><a href="#addresses">Address</a></td>
<td>The address associated with the account</td>
</tr>
</tbody></table>

<p><h3 id='account-creation'>Account Creation</h3><pre class="highlight sh tab-shell"><code>curl -X POST https://collection-prod.inspcdn.net/account <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "id":                  "12345",
        "email":               "my_user@inspetor.com",
        "document":            "123.456.789-10",
        "document_type":       "cpf",
        "phone_number":        11999123456,
        "phone_country_code":  55,
        "password_hash":       "effebbbeeabc123",
        "first_name":          "john",
        "last_name":           "fulano",
        "address":             {
            "street_name":       "Rua Fidalga",
            "street_number":     "252",
            "zip_code":          "05432-010",
            "city":              "São Paulo",
            "state":             "SP",
            "country":           "BR"
        }
    }'</span>
</code></pre>
<p>Notify Inspetor any time a new user account is created.</p>
</p>

<p><h3 id='account-updates'>Account Updates</h3><pre class="highlight sh tab-shell"><code>curl -X PUT https://collection-prod.inspcdn.net/account <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "id":            "12345",
        "email":         "my_new_email@inspetor.com",
        "address":       {
            "street_name":   "Rua Novarua",
            "street_number": "253",
            "zip_code":      "05432-010",
            "city":          "São Paulo",
            "state":         "SP",
            "country":       "BR"
        }
    }'</span>
</code></pre>
<p>Send information to Inspetor any time an account&#39;s information (email, address, name, password, etc...) is altered.</p>
</p>

<p><h3 id='account-deletion'>Account Deletion</h3><pre class="highlight sh tab-shell"><code>curl -X DELETE https://collection-prod.inspcdn.net/account <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "id": "12345"
    }'</span>
</code></pre>
<p>Send information to Inspetor any time an account is deleted.</p>
</p>

<h2 id='authentication-activity'>Authentication Activity</h2><pre class="highlight shell tab-shell"><code>curl -X POST https://collection-prod.inspcdn.net/auth <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "account_id": "232550",
        "action":     "login_failure"
    }'</span>
</code></pre>
<p>Account login/logout behavior is highly correlated with fraudulent activity. You can send information about successful or failed login attempts for an account (as well as logouts) via the <code>/auth</code> endpoint, which supports <code>POST</code> requests only.</p>

<p>The following fields are required:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_id</td>
<td>String</td>
<td>The account ID that was (or was attempted to be) logged into</td>
</tr>
<tr>
<td>action</td>
<td>String</td>
<td>What type of authentication activity occurred. Accepted values are limited to <code>&#39;login_failure&#39;</code>, <code>&#39;login_success&#39;</code>, and <code>&#39;logout&#39;</code> (case-insensitive).</td>
</tr>
</tbody></table>

<h2 id='password-activity'>Password Activity</h2><pre class="highlight shell tab-shell"><code>curl -X POST https://collection-prod.inspcdn.net/forgot-password <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "recovery_email": "badguy@yahoo.com",
        "action":         "reset"
    }'</span>
</code></pre>
<p>Unsurprisingly, there is a correlation between fraudulent activity on an account and password resets or password recovery. As such, Inspetor provides an endpoint where you should notify us of <em>any</em> behavior that involves a user resetting their password or initiating password recovery. You should send information to this endpoint when a user who is not logged in either resets or recovers their password.</p>

<aside class="notice">
This is different than when a logged-in user changes their password. You can notify Inspetor of such changes via the accounts endpoint. 
</aside>

<p>The <code>/forgot-password</code> endpoint accepts <code>POST</code> requests only and requires the following arguments</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>recovery_email</td>
<td>String</td>
<td>The email used to recover or reset the password</td>
</tr>
<tr>
<td>action</td>
<td>String</td>
<td>The type of user action that was taken. Accepted values are <code>&#39;recovery&#39;</code> and <code>&#39;reset&#39;</code> (case-insensitive)</td>
</tr>
</tbody></table>

<h2 id='event-activity'>Event Activity</h2>

<p>You can send event-related information to Inspetor via the REST API. The <code>/events</code> endpoint supports <code>POST</code> (create), <code>PUT</code> (update), and <code>DELETE</code> (delete) operations with the following arguments:</p>

<table><thead>
<tr>
<th>Property</th>
<th>When is it required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>POST</code>, <code>PUT</code>, <code>DELETE</code></td>
<td>String</td>
<td>The unique identifier of this event listing in your platform</td>
</tr>
<tr>
<td>name</td>
<td><code>POST</code></td>
<td>String</td>
<td>The name of the event</td>
</tr>
<tr>
<td>is_physical</td>
<td><code>POST</code></td>
<td>Bool</td>
<td>It determines if it is a physical or digital event. <em>The default value is <code>true</code>.</em></td>
</tr>
<tr>
<td>dates</td>
<td><code>POST</code></td>
<td>Array of Inspetor <a href="#event-datetimes">event datetimes</a></td>
<td>All available dates and times that the event occurs (if it has more than one) and a unique id for each date/time.</td>
</tr>
<tr>
<td>creator_id</td>
<td><code>POST</code></td>
<td>String</td>
<td>The id of the user who created the event</td>
</tr>
<tr>
<td>admin_ids</td>
<td><code>POST</code></td>
<td>Array</td>
<td>An array containing the ids of all users who can make changes to the event</td>
</tr>
<tr>
<td>address</td>
<td></td>
<td><a href="#addresses">Address</a></td>
<td>The address where the event is happening. <em>This field is only required if the type of the event is set to physical.</em></td>
</tr>
<tr>
<td>status</td>
<td></td>
<td>String</td>
<td>The status of the event. <em>Inspetor provides some pre-built statuses (<code>draft</code>, <code>private</code> and <code>published</code>) but you can provide a custom status if it does not fit with our status model.</em></td>
</tr>
<tr>
<td>description</td>
<td></td>
<td>String</td>
<td>A description of the event</td>
</tr>
<tr>
<td>slug</td>
<td></td>
<td>String</td>
<td>The slug of the event</td>
</tr>
</tbody></table>

<p><h3 id='event-creation'>Event Creation</h3><pre class="highlight sh tab-shell"><code>curl -X POST https://collection-prod.inspcdn.net/event <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "id":          "12345",
        "name":        "Reveillon 2020",
        "is_physical": true,
        "dates":  [
            {
                "id":       "1",
                "datetime": 1574210000
            },
            {
                "id":       "2",
                "datetime": 1574315000
            }
        ],
        "creator_id":  "22342",
        "admin_ids":   ["22342", "23536"],
        "address":     {
            "street_name":   "Rua Fidalga",
            "street_number": "252",
            "zip_code":      "05432-010",
            "city":          "São Paulo",
            "state":         "SP",
            "country":       "BR"
        },
        "status":      "published",
        "description": "Lorem Ipsum",
        "slug":        "/reveillon_2020"
    }'</span>
</code></pre>
<p>Send information to Inspetor anytime a new event (<em>e.g. party, shows...</em>) is created in your platform</p>
</p>

<p><h3 id='event-updates'>Event Updates</h3><pre class="highlight sh tab-shell"><code>curl -X PUT https://collection-prod.inspcdn.net/event <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "id":          "12345",
        "name":        "Reveillon 2021",
        "dates":  [
            {
                "id":       "1",
                "datetime": 1594210000
            },
            {
                "id":       "2",
                "datetime": 1594315000
            }
        ],
        "description": "We have postponed until next year",
        "slug":        "/reveillon_2021"
    }'</span>
</code></pre>
<p>Send information to Inspetor every time an event listing&#39;s information is updated (event title, location, etc.)</p>
</p>

<p><h3 id='event-deletion'>Event Deletion</h3><pre class="highlight sh tab-shell"><code>curl -X DELETE https://collection-prod.inspcdn.net/event <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "id": "12345"
    }'</span>
</code></pre>
<p>Send information to Inspetor every time an Event listing is deleted from your platform</p>
</p>

<p><h3 id='event-datetimes'>Event Datetimes</h3><pre class="highlight sh tab-shell"><code>    <span class="o">{</span>
        <span class="s2">"id"</span>:       <span class="s2">"201"</span>,
        <span class="s2">"datetime"</span>: 1594315000
    <span class="o">}</span>
</code></pre>
<p>Our data model operates with the assumption that a single event listing could have multiple sessions (for example Lollapalooza may have multiple sessions, but all be considered the same event.) We refer to those sessions as &quot;event datetimes.&quot; Whenever you&#39;re creating an event, or even when you&#39;re selling tickets to an event, you should indicate which event datetime or datetimes should be correlated with that action. </p>

<p>An event datetime requires the following information: </p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>The identifier for this event datetime in your platform. Event datetime IDs must be unique per-event (but event datetime ids can be the same if they are sessions of different events)</td>
</tr>
<tr>
<td>datetime</td>
<td>Integer</td>
<td>The Unix-timestamp corresponding to the date and time of the event datetime</td>
</tr>
</tbody></table>
</p>

<h2 id='sale-activity'>Sale Activity</h2>

<p>You can provide sale-related activity via the REST API. The <code>/sales</code> endpoint supports <code>POST</code> and <code>PUT</code> operations with the following arguments:</p>

<table><thead>
<tr>
<th>Property</th>
<th>When is it required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>POST</code>, <code>PUT</code></td>
<td>String</td>
<td>The unique identifier for the sale within your platform</td>
</tr>
<tr>
<td>account_id</td>
<td><code>POST</code></td>
<td>String</td>
<td>The id of the user who is making the purchase</td>
</tr>
<tr>
<td>status</td>
<td><code>POST</code>,</td>
<td>String</td>
<td>The status of the sale. <em>The allowed values are: <code>approved</code>, <code>declined</code>, <code>pending</code>, <code>refunded</code>, and <code>manual_analysis</code></em></td>
</tr>
<tr>
<td>items</td>
<td><code>POST</code></td>
<td>Array of <a href="#sale-items">sale items</a></td>
<td>The items (<em>e.g. tickets</em>) that are being bought</td>
</tr>
<tr>
<td>payment</td>
<td><code>POST</code></td>
<td><a href="#sale-payment">Payment</a></td>
<td>The payment used in this purchase</td>
</tr>
<tr>
<td>currency</td>
<td><code>POST</code></td>
<td>String</td>
<td>The ISO-4217 code for the currency of the <code>total_value</code> of the sale</td>
</tr>
<tr>
<td>total_value</td>
<td><code>POST</code></td>
<td>Float</td>
<td>The total value of the sale</td>
</tr>
</tbody></table>

<p><h3 id='sale-creation'>Sale Creation</h3><pre class="highlight shell tab-shell"><code>curl -X POST https://collection-prod.inspcdn.net/sale <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "id":         "12345",
        "account_id": "157421",
        "status":     "pending",
        "items": [
            {
                "id":                 "1",
                "value":              25.00,
                "event_id":           "23553",
                "event_datetime_ids": ["101", "102"]
            },
            {
                "id":                 "2",
                "value":              25.00,
                "event_id":           "23553",
                "event_datetime_ids": ["101", "102"]
            }
        ],
        "payment": 
        {
            "method":              "credit_card",
            "installments":        1,
            "first_six_digits_cc": "455326",
            "last_four_digits_cc": "0012",
            "holder_name":         "John Fulano",
            "holder_cpf":          "741.112.235-53",
            "billing_address": {
                "street_name":     "Rua Fidalga",
                "street_number":   "252",
                "zip_code":        "05432-010",
                "city":            "São Paulo",
                "state":           "SP",
                "country":         "BR"
            }
        },
        "total_value": 54.26,
        "currency":    "BRL"
    }'</span>
</code></pre>
<p>Send information to Inspetor every time a new sale is created on your platform.</p>
</p>

<p><h3 id='sale-updates'>Sale Updates</h3><pre class="highlight shell tab-shell"><code>curl -X PUT https://collection-prod.inspcdn.net/sale <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "id":         "12345",
        "status":     "approved"
    }'</span>
</code></pre>
<p>Send information to Inspetor every time a sale&#39;s attributes (in particular, its status) is updated.</p>

<aside class="notice">
You must call this function <b>any</b> time a sale's status is updated (including post-sale updates, such as refunds). Sale status is extremely crucial to Inspetor's prediction model.
</aside>
</p>

<p><h3 id='mark-sale-fraudulent'>Mark Sale Fraudulent</h3><pre class="highlight shell tab-shell"><code>curl -X POST https://collection-prod.inspcdn.net/sale/mark_fraudulent <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "sale_id":           "12345",
        "fraud_signal_type": "chargeback"
    }'</span>
</code></pre>
<p>Additionally, there is a <code>/sales/mark_fraudulent</code> endpoint that you should use to update Inspetor when a sale has been rejected or refunded due to suspicion of fraud, or if a sale has resulted in a chargeback.</p>

<p>If a sale is deemed fraudulent (either via your existing antifraud solution, manual analysis, acquirer rejection, or even if you receive a chargeback), it is extremely important that you relay this information to Inspetor. This is perhaps <em>the most valuable piece of information</em> you can send to us; all of our fraud prediction models are trained on this label. </p>

<p>The <code>/sale/mark_fraudulent</code> endpoint supports the <code>POST</code> operation and requires the following arguments:</p>

<table><thead>
<tr>
<th>Property</th>
<th>When is it required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sale_id</td>
<td><code>POST</code></td>
<td>String</td>
<td>The unique identifier for the sale within your platform</td>
</tr>
<tr>
<td>fraud_signal_type</td>
<td><code>POST</code></td>
<td>String</td>
<td>The mechanism by which you identified the sale as fraudulent. Current accepted values are &#39;acquirer&#39;, other antifraud services such as <strong>&#39;horus&#39;</strong>, <strong>&#39;fraudnet&#39;</strong>, and <strong>&#39;sift&#39;</strong>, your company name (<strong>&#39;ingresse&#39;</strong>), or simply <strong>&#39;chargeback&#39;</strong>.</td>
</tr>
</tbody></table>

<p>Note: it is expected that when marking a sale fraudulent, one would also make a corresponding call to the <code>/sales</code> endpoint to update a sale with a <code>rejected</code> status (unless the sale was marked fraudulent only after a chargeback was received). </p>
</p>

<p><h3 id='sale-items'>Sale Items</h3><pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"id"</span>:                 <span class="s2">"101"</span>,
    <span class="s2">"event_id"</span>:           <span class="s2">"23553"</span>,
    <span class="s2">"event_datetime_ids"</span>: <span class="o">[</span><span class="s2">"101"</span>, <span class="s2">"102"</span><span class="o">]</span>
    <span class="s2">"value"</span>:              25.00,
<span class="o">}</span>
</code></pre>
<p>Our current collection API is built with certain assumptions about the ticketing industry. In particular, we assume that a sale will have one or more items (in the case of the ticketing industry, tickets) associated with it. We require some information about these items in order to reason about the sale:</p>

<table><thead>
<tr>
<th>Property</th>
<th>When is it required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>POST</code>, <code>UPDATE</code></td>
<td>String</td>
<td>A consistent identifier for this item (<em>e.g. ticket</em>) within your platform</td>
</tr>
<tr>
<td>event_id</td>
<td><code>POST</code></td>
<td>String</td>
<td>The unique identifier of the <a href="#event-activity">event</a> that the item is tied too</td>
</tr>
<tr>
<td>event_datetime_ids</td>
<td><code>POST</code></td>
<td>Array</td>
<td>The array of <a href="#event-datetimes">event datetime IDs</a> that the ticket is tied to</td>
</tr>
<tr>
<td>value</td>
<td><code>POST</code></td>
<td>Double</td>
<td>The price of the item. <em>It should only contain numbers, dots, or commas</em></td>
</tr>
</tbody></table>

<aside class="notice">
Any time you are updating one or more of the items associated with a sale, you must send <b>all</b> of the items associated with that sale (even the items that were not updated). Otherwise, the update request will be interpreted as having removed the omitted items from the sale.
</aside>
</p>

<p><h3 id='sale-payment'>Sale Payment</h3><pre class="highlight shell tab-shell"><code>
<span class="o">{</span>
    <span class="s2">"method"</span>:              <span class="s2">"credit_card"</span>,
    <span class="s2">"installments"</span>:        1,
    <span class="s2">"first_six_digits_cc"</span>: <span class="s2">"455326"</span>,
    <span class="s2">"last_four_digits_cc"</span>: <span class="s2">"0012"</span>,
    <span class="s2">"holder_name"</span>:         <span class="s2">"John Fulano"</span>,
    <span class="s2">"holder_cpf"</span>:          <span class="s2">"741.112.235-53"</span>,
    <span class="s2">"billing_address"</span>: <span class="o">{</span>
        <span class="s2">"street_name"</span>:     <span class="s2">"Rua Fidalga"</span>,
        <span class="s2">"street_number"</span>:   <span class="s2">"252"</span>,
        <span class="s2">"zip_code"</span>:        <span class="s2">"05432-010"</span>,
        <span class="s2">"city"</span>:            <span class="s2">"São Paulo"</span>,
        <span class="s2">"state"</span>:           <span class="s2">"SP"</span>,
        <span class="s2">"country"</span>:         <span class="s2">"Brasil"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Inspetor has a standardized format for accepting payment information that is associated with a sale. You can find the accepted and required parameters below:</p>

<table><thead>
<tr>
<th>Property</th>
<th>When is it required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td><code>POST</code></td>
<td>String</td>
<td>The method of payment being used. <em>The allowed values are <code>credit_card</code>, <code>boleto</code>, and <code>other</code></em></td>
</tr>
<tr>
<td>installments</td>
<td><code>POST</code></td>
<td>Integer</td>
<td>The number of &quot;<em>parcelas</em>&quot; that the user will pay</td>
</tr>
<tr>
<td>first_six_digits_cc</td>
<td><code>POST</code> (credit_card only)</td>
<td>String</td>
<td>The first six digits of the credit card number (should be only digits)</td>
</tr>
<tr>
<td>last_four_digits_cc</td>
<td><code>POST</code> (credit_card only)</td>
<td>String</td>
<td>The last four digits of the credit card number (should be only digits)</td>
</tr>
<tr>
<td>holder_name</td>
<td><code>POST</code> (credit_card only)</td>
<td>String</td>
<td>The full name of the owner of the credit card</td>
</tr>
<tr>
<td>holder_cpf</td>
<td><code>POST</code> (credit_card only)</td>
<td>String</td>
<td>The CPF of the owner of the credit card. (Expected format is only numbers, with no dots or dashes)</td>
</tr>
<tr>
<td>billing_address</td>
<td><code>POST</code> (credit_card only)</td>
<td><a href="#addresses">Address</a></td>
<td>The billing address associated with this credit card</td>
</tr>
</tbody></table>
</p>

<h2 id='item-transfers'>Item Transfers</h2>

<p>You can provide transfer-related activity via the REST API. The <code>/transfer</code> endpoint supports POST and PUT operations with the following required arguments:</p>

<table><thead>
<tr>
<th>Property</th>
<th>When is it required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>POST</code>, <code>UPDATE</code></td>
<td>String</td>
<td>Your platform-unique identifier for the transfer</td>
</tr>
<tr>
<td>sale_id</td>
<td><code>POST</code></td>
<td>String</td>
<td>Your platform-unique identifier for the <strong>sale</strong> associated with the items being transfered</td>
</tr>
<tr>
<td>sale_item_id</td>
<td><code>POST</code></td>
<td>String</td>
<td>The id of the <a href="#sale-items">sale item</a> (<em>e.g. ticket</em>) that is being transfered</td>
</tr>
<tr>
<td>sender_account_id</td>
<td><code>POST</code></td>
<td>String</td>
<td>The id of the account who is transferring the item (<em>e.g. ticket</em>)</td>
</tr>
<tr>
<td>recipient_email</td>
<td><code>POST</code></td>
<td>String</td>
<td>The email of the user who is receiving the item</td>
</tr>
<tr>
<td>recipient_account_id</td>
<td></td>
<td>String</td>
<td>The id of the account (if available) who is receiving the item</td>
</tr>
<tr>
<td>status</td>
<td><code>POST</code>, <code>UPDATE</code></td>
<td>String</td>
<td>The status of the transfer. (Allowed values: <code>accepted</code>, <code>rejected</code>, <code>cancelled</code>, and <code>pending</code>)</td>
</tr>
</tbody></table>

<p><h3 id='transfer-creation'>Transfer Creation</h3><pre class="highlight shell tab-shell"><code>curl -X POST https://collection-prod.inspcdn.net/transfer <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
            "id":                   "43262",
            "sale_id":              "12345",
            "sale_item_id":         "101",
            "sender_account_id":    "25236",
            "recipient_email":      "user_email@gmail.com",
            "recipient_account_id": "212163",
            "status":               "pending"
    }'</span>      

</code></pre>
<p>This function is used to send information to Inspetor every time a new item (<em>e.g. ticket</em>) transfer is created on your platform.</p>
</p>

<p><h3 id='transfer-updates'>Transfer Updates</h3><pre class="highlight shell tab-shell"><code>curl -X PUT https://collection-prod.inspcdn.net/transfer <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "id":     "43262",
        "status": "accepted"
    }'</span>      

</code></pre>
<p>This function is used to send information to Inspetor every time an item (<em>e.g. ticket</em>) transfer&#39;s status is updated.</p>
</p>

<p><h2 id='addresses'>Addresses</h2><pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">&quot;street_name&quot;</span>:   <span class="s2">&quot;Rua Fidalga&quot;</span>,
    <span class="s2">&quot;street_number&quot;</span>: <span class="s2">&quot;252&quot;</span>,
    <span class="s2">&quot;zip_code&quot;</span>:      <span class="s2">&quot;05432-010&quot;</span>,
    <span class="s2">&quot;city&quot;</span>:          <span class="s2">&quot;São Paulo&quot;</span>,
    <span class="s2">&quot;state&quot;</span>:         <span class="s2">&quot;SP&quot;</span>,
    <span class="s2">&quot;country&quot;</span>:       <span class="s2">&quot;BR&quot;</span>,
    <span class="s2">&quot;latitude&quot;</span>:      -43.2360,
    <span class="s2">&quot;longitude&quot;</span>:     -23.5115
<span class="o">}</span>
</code></pre>
<p>Numerous resources have associated location data: Sale payments have an associated billing address, events occur at a particular address, or an account may have a shipping address associated with it. Inspetor standardizes the format in which we collect this data as follows:</p></p>

<table><thead>
<tr>
<th>Property</th>
<th>Required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>street_name</td>
<td>Yes</td>
<td>String</td>
<td>The street of the address</td>
</tr>
<tr>
<td>street_number</td>
<td>Yes</td>
<td>String</td>
<td>The street number of the address</td>
</tr>
<tr>
<td>zip_code</td>
<td>Yes</td>
<td>String</td>
<td>The zip code (<em>e.g. CEP</em>) of the address</td>
</tr>
<tr>
<td>city</td>
<td>Yes</td>
<td>String</td>
<td>The city in which the address is located</td>
</tr>
<tr>
<td>state</td>
<td>Yes</td>
<td>String</td>
<td>The two-character ISO 3166-2 abbreviation of the state in which the address is located</td>
</tr>
<tr>
<td>country</td>
<td>Yes</td>
<td>String</td>
<td>The two-character ISO 3166-2 country code in which the address is located</td>
</tr>
<tr>
<td>latitude</td>
<td>No</td>
<td>Double</td>
<td>The exact latitude of the address</td>
</tr>
<tr>
<td>longitude</td>
<td>No</td>
<td>Double</td>
<td>The exact longitude of the address</td>
</tr>
</tbody></table>
<h1 id='evaluation-api'>Evaluation API</h1><pre class="highlight shell tab-shell"><code>curl -X POST https://collection-prod.inspcdn.net/evaluation <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer </span><span class="nv">$API_KEY</span><span class="s2">"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s1">'{
        "sale_id": "12345",
        "account_id": "157421",
        "sale_datetime": 1579792758,
        "event_date_id": "23553",
        "sale_total_value": 54.26,
        "first_six_digits_cc": "455326",
        "last_four_digits_cc": "0012",
        "holder_cpf": "741.112.235-53"
    }'</span>
</code></pre>
<p>Our evaluation API consists of a single resource: <code>/evaluation</code>. This resource should be used whenever you have a Sale that you would like to get evaluated by Inspetor.</p>

<p>It is a <code>POST</code> endpoint, and the fields it accepts are as follows:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sale_id</td>
<td>String</td>
<td>The unique identifier for the sale within your platform</td>
</tr>
<tr>
<td>account_id</td>
<td>String</td>
<td>The ID of the account attempting the purchase</td>
</tr>
<tr>
<td>sale_datetime</td>
<td>Integer</td>
<td>The Unix-timestamp corresponding to the date and time of the sale</td>
</tr>
<tr>
<td>event_date_id <sup>[*]</sup></td>
<td>String</td>
<td>The event datetime id associated to the sale</td>
</tr>
<tr>
<td>sale_total_value</td>
<td>Float</td>
<td>The total monetary value of the sale</td>
</tr>
<tr>
<td>first_six_digits_cc</td>
<td>String</td>
<td>The first six digits of the credit card associated to the sale</td>
</tr>
<tr>
<td>last_four_digits_cc</td>
<td>String</td>
<td>The last four digits of the credit card associated to the sale</td>
</tr>
<tr>
<td>holder_cpf</td>
<td>String</td>
<td>The card holder&#39;s CPF. It may contain dots and dashes but it&#39;s not required</td>
</tr>
</tbody></table>

<p><strong>All of these fields are required - we cannot evaluate a sale that has any of these missing.</strong></p>

<p>This is a synchronous endpoint, so you&#39;ll receive our decision regarding the sale as the response for it (be aware that it might take up to 20 seconds for the HTTP response to come back). The success response for this resource is a JSON such as <code>{&quot;inspetor_decision&quot;: &quot;&lt;our decision&gt;&quot;}</code>; where our decision is either <code>approve</code>, <code>reject</code> or <code>manual</code>.</p>

<aside class="notice">
[*] Even though a sale might have more than one event datetime id associated to it, at this moment, we only require the main one associated to the sale in this endpoint. That is, even if there might be multiple tickets, corresponding to multiple event datetime ids, in a single sale, we only ask for a single event datetime id (usually the event_date_id that will be in your sales table).
</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="sh">sh</a>
          </div>
      </div>
    </div>
  </body>
</html>
